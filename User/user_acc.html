<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReFoundly - Account</title>

    <!-- Styles -->
    <link rel="stylesheet" href="user_acc.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body>

<!-- ================= HEADER ================= -->
<header class="header">
    <div class="logo" onclick="goHome()">ReFoundly</div>
    <div class="header-icons">
        <i class="fa-regular fa-bell" onclick="showNotifications()"></i>
        <i class="fa-regular fa-user" onclick="goToAccount()"></i>
    </div>
</header>

<!-- ================= BREADCRUMB ================= -->
<nav class="breadcrumb">
    <a href="#" onclick="goHome()">Home</a>
    <span class="separator">›</span>
    <span class="active">Account</span>
</nav>

<!-- ================= MAIN ================= -->
<main class="container">
    <div class="account-card">

        <!-- PROFILE -->
        <div class="profile-section">
            <div class="avatar" onclick="uploadProfilePicture()">
                <i class="fa-regular fa-user"></i>
            </div>
            <h2 class="profile-name">John Doe</h2>
            <p class="profile-email">JohnDoe00@gmail.com</p>
        </div>

        <!-- INFO -->
        <div class="info-section">
            <h1 class="section-title">Personal Information</h1>

            <div class="form-grid">

                <!-- FULL NAME -->
                <div class="form-field">
                    <label>Full Name</label>
                    <div class="field-content">
                        <span id="fullname-display">John Doe Macalapapac</span>
                        <button class="edit-btn" id="fullname-edit" onclick="editField('fullname')">Edit</button>
                        <input id="fullname-input" type="text" class="hidden">
                        <button class="edit-btn hidden" id="fullname-save" onclick="saveField('fullname')">Save</button>
                    </div>
                </div>

                <!-- EMAIL -->
                <div class="form-field">
                    <label>Email</label>
                    <div class="field-content">
                        <span id="email-display">JohnDoe00@gmail.com</span>
                        <button class="edit-btn" id="email-edit" onclick="editField('email')">Edit</button>
                        <input id="email-input" type="email" class="hidden">
                        <button class="edit-btn hidden" id="email-save" onclick="saveField('email')">Save</button>
                    </div>
                </div>

                <!-- CONTACT NUMBER -->
                <div class="form-field">
                    <label>Contact Number</label>
                    <div class="field-content add-field" id="contact-field">
                        <button class="add-btn" id="contact-add" onclick="addField('contact')">+</button>
                        <input id="contact-input"
                               type="tel"
                               placeholder="09XXXXXXXXX"
                               maxlength="11"
                               oninput="validateContactNumber(this)"
                               class="hidden">
                        <button class="edit-btn hidden" id="contact-save" onclick="saveField('contact')">Save</button>
                    </div>
                </div>

                <!-- DOB -->
                <div class="form-field">
                    <label>Date of Birth</label>
                    <div class="field-content add-field" id="dob-field">
                        <button class="add-btn" id="dob-add" onclick="addField('dob')">+</button>
                        <input id="dob-input" type="date" class="hidden">
                        <button class="edit-btn hidden" id="dob-save" onclick="saveField('dob')">Save</button>
                    </div>
                </div>

                <!-- PASSWORD -->
                <div class="form-field full-width">
                    <label>Password</label>
                    <div class="field-content">
                        <span class="password-dots">••••••••</span>
                        <button class="change-password-btn" onclick="changePassword()">Change Password</button>
                    </div>
                </div>

            </div>

            <div class="actions">
                <button class="sign-out-btn" onclick="signOut()">Sign Out</button>
            </div>
        </div>

    </div>
</main>

<!-- ================= FOOTER ================= -->
<footer class="footer">
    <div class="footer-top">
        <div class="footer-links">
            <a href="#" onclick="showAbout()">About</a> |
            <a href="#" onclick="showContact()">Contact</a> |
            <a href="#" onclick="showPrivacyPolicy()">Privacy Policy</a> |
            <a href="#" onclick="showTerms()">Terms</a>
        </div>

        <div class="social-icons">
            <a href="#"><i class="fa-brands fa-facebook-f"></i></a>
            <a href="#"><i class="fa-brands fa-x-twitter"></i></a>
            <a href="#"><i class="fa-brands fa-instagram"></i></a>
            <a href="#"><i class="fa-brands fa-linkedin-in"></i></a>
        </div>
    </div>

    <div class="footer-line"></div>
    <div class="footer-bottom">
        © 2026 Digital Lost & Found Portal
    </div>
</footer>

<!-- ================= JAVASCRIPT ================= -->
<script>
    function goHome() { alert('Navigating to Home page...'); }
    function goToAccount() { alert('You are already on the Account page'); }
    function showNotifications() { alert('No new notifications'); }

    function uploadProfilePicture() {
        const input = document.createElement('input');
        input.type = 'file';
        input.accept = 'image/*';
        input.onchange = e => {
            if (e.target.files[0]) {
                alert(`Profile picture "${e.target.files[0].name}" uploaded!`);
            }
        };
        input.click();
    }

    function editField(field) {
        document.getElementById(`${field}-display`)?.classList.add('hidden');
        document.getElementById(`${field}-edit`)?.classList.add('hidden');
        document.getElementById(`${field}-input`).classList.remove('hidden');
        document.getElementById(`${field}-save`).classList.remove('hidden');
    }

    function addField(field) {
        document.getElementById(`${field}-add`).classList.add('hidden');
        document.getElementById(`${field}-input`).classList.remove('hidden');
        document.getElementById(`${field}-save`).classList.remove('hidden');
        document.getElementById(`${field}-field`).classList.remove('add-field');
    }

    function validateContactNumber(input) {
        input.value = input.value.replace(/\D/g, '');
        if (input.value.length > 11) {
            input.value = input.value.slice(0, 11);
        }
    }

    function saveField(field) {
        const input = document.getElementById(`${field}-input`);
        if (!input.value.trim()) {
            alert('Please enter a valid value');
            return;
        }

        if (field === 'contact') {
            const phRegex = /^09\d{9}$/;
            if (!phRegex.test(input.value)) {
                alert('Use Philippine format: 09XXXXXXXXX');
                return;
            }

            document.getElementById('contact-field').innerHTML = `
                <span id="contact-display">${input.value}</span>
                <button class="edit-btn" id="contact-edit" onclick="editField('contact')">Edit</button>
                <input id="contact-input" type="tel" class="hidden">
                <button class="edit-btn hidden" id="contact-save" onclick="saveField('contact')">Save</button>
            `;
            return;
        }

        document.getElementById(`${field}-display`).textContent = input.value;
        document.getElementById(`${field}-display`).classList.remove('hidden');
        document.getElementById(`${field}-edit`).classList.remove('hidden');
        input.classList.add('hidden');
        document.getElementById(`${field}-save`).classList.add('hidden');

        if (field === 'email') document.querySelector('.profile-email').textContent = input.value;
        if (field === 'fullname') document.querySelector('.profile-name').textContent = input.value;
    }

    function changePassword() {
        const pass = prompt('Enter new password (min 8 chars)');
        alert(pass && pass.length >= 8 ? 'Password changed!' : 'Password too short');
    }

    function signOut() {
        if (confirm('Sign out?')) alert('Signing out...');
    }

    function showAbout() { alert('ReFoundly is a Digital Lost & Found Portal'); }
    function showContact() { alert('support@refoundly.com'); }
    function showPrivacyPolicy() { alert('Your privacy matters'); }
    function showTerms() { alert('Terms accepted'); }
</script>

</body>
</html>
