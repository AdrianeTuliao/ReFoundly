<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ReFoundly | Messages</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="message.css">
</head>
<body>

   <header class="navbar">
        <h1>ReFoundly</h1>
    <div class="nav-icons">
        <a href="message.html" class="icons-link active-link">
            <i class="fas fa-comment-dots"></i>
        </a>
        <i class="fas fa-bell"></i>

        <div class="burger-container">
            <input type="checkbox" id="menu-toggle">
            <label for="menu-toggle" class="hamburger">
                <i class="fas fa-bars"></i>
            </label>

            <div class="nav-menu">
                <a href="user_acc.html"><i class="fas fa-user-circle"></i> Account</a>
                <a href="history.html"><i class="fas fa-history"></i> History</a>
                <a href="#" class="logout-btn"><i class="fas fa-sign-out-alt"></i> Logout</a>
            </div>
        </div>
    </div>
    </header>

    <main class="container">
        <nav class="breadcrumb">
            <a href="dashboard.html">Home</a> &gt; <span>Messages</span>
        </nav>

        <div class="messaging-wrapper">
            <aside class="inbox-sidebar">
                <div class="sidebar-header-box">
                    <h3>Inbox</h3>
                </div>
                <div class="search-inbox">
                    <div class="search-bar-pill-small">
                        <i class="fas fa-search"></i>
                        <input type="text" placeholder="Search chats...">
                    </div>
                </div>
                <div class="chat-list">
                    <div class="chat-item active">
                        <img src="https://ui-avatars.com/api/?name=Juan+Dela+Cruz&background=6B9E45&color=fff" alt="User">
                        <div class="preview-text">
                            <h4>Juan Dela Cruz</h4>
                            <p>Mamaya po sana sa SM.</p>
                        </div>
                    </div>
                    <div class="chat-item">
                        <img src="https://ui-avatars.com/api/?name=Maria+Clara&background=999&color=fff" alt="User">
                        <div class="preview-text">
                            <h4>Maria Clara</h4>
                            <p>Sige po, salamat!</p>
                        </div>
                    </div>
                </div>
            </aside>

            <section class="chat-view">
                <header class="chat-view-header">
                    <div class="current-user">
                        <img src="https://ui-avatars.com/api/?name=Juan+Dela+Cruz&background=6B9E45&color=fff" alt="User">
                        <h4>Juan Dela Cruz</h4>
                    </div>
                </header>

                <div class="chat-body">
                    <div class="msg received">Hello! Owner po ako nung Black Wallet.</div>
                    <div class="msg sent">Sige po, kailan niyo po balak kunin?</div>
                    <div class="msg received">Mamaya po sana sa SM.</div>
                </div>

                <div class="chat-footer">
                    <input type="text" placeholder="Write a message...">
                    <button class="send-btn"><i class="fas fa-paper-plane"></i></button>
                </div>
            </section>
        </div>
    </main>

     <footer>
    <div class="footer-links">
        <div class="popup-item">
            <a href="#">About</a>
            <span class="popup-box">
                <strong>About ReFoundly</strong><br>
                ReFoundly is a premier digital portal dedicated to bridging the gap between lost possessions and their rightful owners within our community. Our mission is to foster a culture of honesty and cooperation by providing a streamlined, transparent, and reliable platform for reporting and recovering items.
            </span>
        </div>
        | 
        <div class="popup-item">
            <a href="#">Contact</a>
            <span class="popup-box">
                <strong>Contact Us</strong><br>
                Do you have questions, suggestions, or need assistance with your account? You can reach our dedicated support team through our official channels:<br>
                <i class="fas fa-envelope"></i> Email: refoundly@gmail.com<br>
                <i class="fas fa-phone"></i> Phone: +63 912 345 6789<br>
            </span>
        </div>
        | 
        <div class="popup-item">
            <a href="#">Privacy Policy</a>
            <span class="popup-box">
                <strong>Privacy Policy</strong><br>
                We take your security seriously. All personal information provided—such as names and contact details—is used strictly for verification purposes and to facilitate the safe return of items. We do not sell, trade, or share your data with third parties without your explicit consent.
            </span>
        </div>
        | 
        <div class="popup-item">
            <a href="#">Terms</a>
            <span class="popup-box">
                <strong>Terms of Use</strong><br>
                By using this portal, you agree to provide only truthful and accurate information. Any form of deception, including fraudulent claims to items that do not belong to you, is strictly prohibited. Misuse of the platform will result in a permanent account ban and potential legal action.
            </span>
        </div>
    </div>

    <div class="socials">
        <i class="fab fa-facebook"></i> &nbsp; <i class="fab fa-instagram"></i> &nbsp; <i class="fab fa-linkedin"></i>
    </div>
    <p>© 2026 Digital Lost & Found Portal</p>
</footer>

<script>
    function checkSession() {
    fetch('/user/me')
        .then(response => {
            if (response.status === 401) {
                const modal = document.getElementById('session-alert');
                if (modal) {
                    modal.style.setProperty('display', 'flex', 'important');
                }
            }
        })
        .catch(err => {
            console.log("Connection lost or session check failed.");
        });
}
setInterval(checkSession, 5000);
</script>

</body>
</html>